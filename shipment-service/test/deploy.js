const solc = require('solc');
const fs = require('fs');
const TronWeb = require('tronweb');

// Считываем код контракта из файла
const fullNode = 'https://nile.trongrid.io/';
const solidityNode = 'https://nile.trongrid.io/';
const eventServer = 'https://nile.trongrid.io/';

const privateKey = 'c20980e62c2d9b4cbc6b87239d0fa7281e02928bbc50a2e8b6eea12bbdbdd93e'; //MAINNET

//     'df559c6a9038784badb22b3831b36c02cf36ded1bec5c500f0276377eb6de428'; //TEST TLCA
// '1145ee59bf530e6ca45757c55b36c14014bc7e17b521afd4182d89b983880afb'; //TEST что-то надо проверить что

const tronWeb = new TronWeb(fullNode, solidityNode, eventServer, privateKey);

// Получение ABI и байт-кода
const abi = [
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "PaymentSent",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "string",
				"name": "shipmentUuid",
				"type": "string"
			},
			{
				"indexed": false,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "ShipmentRegistered",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "string",
				"name": "shipmentUuid",
				"type": "string"
			},
			{
				"indexed": false,
				"internalType": "string",
				"name": "status",
				"type": "string"
			},
			{
				"indexed": false,
				"internalType": "string",
				"name": "handler",
				"type": "string"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "timestamp",
				"type": "uint256"
			}
		],
		"name": "StatusUpdated",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "string",
				"name": "transactionHash",
				"type": "string"
			},
			{
				"indexed": false,
				"internalType": "string",
				"name": "shipmentUuid",
				"type": "string"
			}
		],
		"name": "TransactionProcessed",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "shipmentUuid",
				"type": "string"
			}
		],
		"name": "getShipment",
		"outputs": [
			{
				"components": [
					{
						"internalType": "string",
						"name": "uuid",
						"type": "string"
					},
					{
						"internalType": "address",
						"name": "owner",
						"type": "address"
					},
					{
						"internalType": "uint256[]",
						"name": "statusTimestamps",
						"type": "uint256[]"
					},
					{
						"internalType": "string[]",
						"name": "statusHistory",
						"type": "string[]"
					},
					{
						"internalType": "string[]",
						"name": "handlerHistory",
						"type": "string[]"
					},
					{
						"internalType": "string[]",
						"name": "transactionHashs",
						"type": "string[]"
					},
					{
						"internalType": "address payable",
						"name": "deliveryWallet",
						"type": "address"
					},
					{
						"internalType": "bool",
						"name": "exists",
						"type": "bool"
					}
				],
				"internalType": "struct SupplyChain.Shipment",
				"name": "",
				"type": "tuple"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "transactionHash",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "shipmentUuid",
				"type": "string"
			}
		],
		"name": "processPayment",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "shipmentUuid",
				"type": "string"
			},
			{
				"internalType": "address payable",
				"name": "_deliveryWallet",
				"type": "address"
			}
		],
		"name": "registerShipment",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes32",
				"name": "",
				"type": "bytes32"
			}
		],
		"name": "shipments",
		"outputs": [
			{
				"internalType": "string",
				"name": "uuid",
				"type": "string"
			},
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address payable",
				"name": "deliveryWallet",
				"type": "address"
			},
			{
				"internalType": "bool",
				"name": "exists",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "shipmentUuid",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "status",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "handler",
				"type": "string"
			}
		],
		"name": "updateStatus",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	}
];
const bytecode = "608060405234801561001057600080fd5b506122fe806100206000396000f3fe60806040526004361061004a5760003560e01c806349a41a9d1461004f5780638c11800e14610078578063c2686829146100a1578063d87b4041146100bd578063da34f3d5146100fd575b600080fd5b34801561005b57600080fd5b50610076600480360381019061007191906113cf565b61013a565b005b34801561008457600080fd5b5061009f600480360381019061009a919061142b565b61044b565b005b6100bb60048036038101906100b691906114a3565b6106dc565b005b3480156100c957600080fd5b506100e460048036038101906100df9190611359565b610bad565b6040516100f49493929190611adb565b60405180910390f35b34801561010957600080fd5b50610124600480360381019061011f9190611386565b610cb2565b6040516101319190611cf8565b60405180910390f35b60008260405160200161014d9190611a53565b60405160208183030381529060405280519060200120905060008082815260200190815260200160002060060160149054906101000a900460ff16156101c8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101bf90611c38565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610238576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161022f90611c78565b60405180910390fd5b60008060008381526020019081526020016000209050838160000190805190602001906102669291906111a9565b50338160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550828160060160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060018160060160146101000a81548160ff02191690831515021790555060008083815260200190815260200160002060040180600181540180825580915050600190039060005260206000200160006040518060400160405280600c81526020017f4d616e75666163747572657200000000000000000000000000000000000000008152509091909150908051906020019061038a9291906111a9565b5060008083815260200190815260200160002060030180600181540180825580915050600190039060005260206000200160006040518060400160405280600781526020017f53746172746564000000000000000000000000000000000000000000000000008152509091909150908051906020019061040b9291906111a9565b507fbc7d14ab835f8f92e6c07c608ccf9cffc3abe15eb8be57d46be317559474af8f843360405161043d929190611aab565b60405180910390a150505050565b60008160405160200161045e9190611a53565b60405160208183030381529060405280519060200120905060008082815260200190815260200160002060060160149054906101000a900460ff166104d8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104cf90611c98565b60405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff1660008083815260200190815260200160002060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461057b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161057290611c58565b60405180910390fd5b6000806000838152602001908152602001600020600501905060005b818054905081101561066157846040516020016105b49190611a53565b604051602081830303815290604052805190602001208282815481106105dd576105dc612005565b5b906000526020600020016040516020016105f79190611a6a565b60405160208183030381529060405280519060200120141561064e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161064590611cd8565b60405180910390fd5b808061065990611f5e565b915050610597565b50808490806001815401808255809150506001900390600052602060002001600090919091909150908051906020019061069c9291906111a9565b507f6171a043524c94383571c410d4d2290b94594d4b81c8a8fedf329fc77fcff76e84846040516106ce929190611b27565b60405180910390a150505050565b6000836040516020016106ef9190611a53565b60405160208183030381529060405280519060200120905060008082815260200190815260200160002060060160149054906101000a900460ff16610769576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161076090611c98565b60405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff1660008083815260200190815260200160002060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461080c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161080390611c18565b60405180910390fd5b6000808281526020019081526020016000206003018390806001815401808255809150506001900390600052602060002001600090919091909150908051906020019061085a9291906111a9565b50600080828152602001908152602001600020600401829080600181540180825580915050600190039060005260206000200160009091909190915090805190602001906108a99291906111a9565b506000808281526020019081526020016000206002014290806001815401808255809150506001900390600052602060002001600090919091909150557f27dbc9cde304d906c106943d1d1093213343e9abc9cd5cc4c5532b4c6b1aa3b08484844260405161091b9493929190611b5e565b60405180910390a160405160200161093290611a81565b60405160208183030381529060405280519060200120836040516020016109599190611a53565b604051602081830303815290604052805190602001201415610b6357600034116109b8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109af90611bd8565b60405180910390fd5b600080600083815260200190815260200160002060060160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610a62576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5990611cb8565b60405180910390fd5b60008173ffffffffffffffffffffffffffffffffffffffff1634604051610a8890611a96565b60006040518083038185875af1925050503d8060008114610ac5576040519150601f19603f3d011682016040523d82523d6000602084013e610aca565b606091505b5050905080610b0e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b0590611bb8565b60405180910390fd5b8173ffffffffffffffffffffffffffffffffffffffff167f47db2abce6d5fbcd80ffd9b4ba74dcde804a746ef732bc7f8a70fabfc912c59034604051610b549190611d1a565b60405180910390a25050610ba7565b60003414610ba6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9d90611bf8565b60405180910390fd5b5b50505050565b6000602052806000526040600020600091509050806000018054610bd090611efb565b80601f0160208091040260200160405190810160405280929190818152602001828054610bfc90611efb565b8015610c495780601f10610c1e57610100808354040283529160200191610c49565b820191906000526020600020905b815481529060010190602001808311610c2c57829003601f168201915b5050505050908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060060160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060060160149054906101000a900460ff16905084565b610cba61122f565b600082604051602001610ccd9190611a53565b60405160208183030381529060405280519060200120905060008082815260200190815260200160002060060160149054906101000a900460ff16610d47576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d3e90611c98565b60405180910390fd5b60008082815260200190815260200160002060405180610100016040529081600082018054610d7590611efb565b80601f0160208091040260200160405190810160405280929190818152602001828054610da190611efb565b8015610dee5780601f10610dc357610100808354040283529160200191610dee565b820191906000526020600020905b815481529060010190602001808311610dd157829003601f168201915b505050505081526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160028201805480602002602001604051908101604052809291908181526020018280548015610e9c57602002820191906000526020600020905b815481526020019060010190808311610e88575b5050505050815260200160038201805480602002602001604051908101604052809291908181526020016000905b82821015610f76578382906000526020600020018054610ee990611efb565b80601f0160208091040260200160405190810160405280929190818152602001828054610f1590611efb565b8015610f625780601f10610f3757610100808354040283529160200191610f62565b820191906000526020600020905b815481529060010190602001808311610f4557829003601f168201915b505050505081526020019060010190610eca565b50505050815260200160048201805480602002602001604051908101604052809291908181526020016000905b8282101561104f578382906000526020600020018054610fc290611efb565b80601f0160208091040260200160405190810160405280929190818152602001828054610fee90611efb565b801561103b5780601f106110105761010080835404028352916020019161103b565b820191906000526020600020905b81548152906001019060200180831161101e57829003601f168201915b505050505081526020019060010190610fa3565b50505050815260200160058201805480602002602001604051908101604052809291908181526020016000905b8282101561112857838290600052602060002001805461109b90611efb565b80601f01602080910402602001604051908101604052809291908181526020018280546110c790611efb565b80156111145780601f106110e957610100808354040283529160200191611114565b820191906000526020600020905b8154815290600101906020018083116110f757829003601f168201915b50505050508152602001906001019061107c565b5050505081526020016006820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016006820160149054906101000a900460ff161515151581525050915050919050565b8280546111b590611efb565b90600052602060002090601f0160209004810192826111d7576000855561121e565b82601f106111f057805160ff191683800117855561121e565b8280016001018555821561121e579182015b8281111561121d578251825591602001919060010190611202565b5b50905061122b91906112a2565b5090565b60405180610100016040528060608152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160608152602001606081526020016060815260200160608152602001600073ffffffffffffffffffffffffffffffffffffffff1681526020016000151581525090565b5b808211156112bb5760008160009055506001016112a3565b5090565b60006112d26112cd84611d5a565b611d35565b9050828152602081018484840111156112ee576112ed612068565b5b6112f9848285611eb9565b509392505050565b6000813590506113108161229a565b92915050565b600081359050611325816122b1565b92915050565b600082601f8301126113405761133f612063565b5b81356113508482602086016112bf565b91505092915050565b60006020828403121561136f5761136e612072565b5b600061137d84828501611316565b91505092915050565b60006020828403121561139c5761139b612072565b5b600082013567ffffffffffffffff8111156113ba576113b961206d565b5b6113c68482850161132b565b91505092915050565b600080604083850312156113e6576113e5612072565b5b600083013567ffffffffffffffff8111156114045761140361206d565b5b6114108582860161132b565b925050602061142185828601611301565b9150509250929050565b6000806040838503121561144257611441612072565b5b600083013567ffffffffffffffff8111156114605761145f61206d565b5b61146c8582860161132b565b925050602083013567ffffffffffffffff81111561148d5761148c61206d565b5b6114998582860161132b565b9150509250929050565b6000806000606084860312156114bc576114bb612072565b5b600084013567ffffffffffffffff8111156114da576114d961206d565b5b6114e68682870161132b565b935050602084013567ffffffffffffffff8111156115075761150661206d565b5b6115138682870161132b565b925050604084013567ffffffffffffffff8111156115345761153361206d565b5b6115408682870161132b565b9150509250925092565b600061155683836116a3565b905092915050565b600061156a8383611a35565b60208301905092915050565b61157f81611e67565b82525050565b61158e81611e67565b82525050565b61159d81611e55565b82525050565b6115ac81611e55565b82525050565b60006115bd82611dc0565b6115c78185611dfb565b9350836020820285016115d985611d8b565b8060005b8581101561161557848403895281516115f6858261154a565b945061160183611de1565b925060208a019950506001810190506115dd565b50829750879550505050505092915050565b600061163282611dcb565b61163c8185611e0c565b935061164783611d9b565b8060005b8381101561167857815161165f888261155e565b975061166a83611dee565b92505060018101905061164b565b5085935050505092915050565b61168e81611e79565b82525050565b61169d81611e79565b82525050565b60006116ae82611dd6565b6116b88185611e28565b93506116c8818560208601611ec8565b6116d181612077565b840191505092915050565b60006116e782611dd6565b6116f18185611e39565b9350611701818560208601611ec8565b61170a81612077565b840191505092915050565b600061172082611dd6565b61172a8185611e4a565b935061173a818560208601611ec8565b80840191505092915050565b6000815461175381611efb565b61175d8186611e4a565b945060018216600081146117785760018114611789576117bc565b60ff198316865281860193506117bc565b61179285611dab565b60005b838110156117b457815481890152600182019150602081019050611795565b838801955050505b50505092915050565b60006117d2601283611e39565b91506117dd82612088565b602082019050919050565b60006117f5602683611e39565b9150611800826120b1565b604082019050919050565b6000611818602783611e39565b915061182382612100565b604082019050919050565b600061183b600983611e4a565b91506118468261214f565b600982019050919050565b600061185e601c83611e39565b915061186982612178565b602082019050919050565b6000611881601783611e39565b915061188c826121a1565b602082019050919050565b60006118a4601e83611e39565b91506118af826121ca565b602082019050919050565b60006118c7601f83611e39565b91506118d2826121f3565b602082019050919050565b60006118ea600083611e1d565b91506118f58261221c565b600082019050919050565b600061190d601783611e39565b91506119188261221f565b602082019050919050565b6000611930601a83611e39565b915061193b82612248565b602082019050919050565b6000611953601a83611e39565b915061195e82612271565b602082019050919050565b600061010083016000830151848203600086015261198782826116a3565b915050602083015161199c6020860182611594565b50604083015184820360408601526119b48282611627565b915050606083015184820360608601526119ce82826115b2565b915050608083015184820360808601526119e882826115b2565b91505060a083015184820360a0860152611a0282826115b2565b91505060c0830151611a1760c0860182611576565b5060e0830151611a2a60e0860182611685565b508091505092915050565b611a3e81611eaf565b82525050565b611a4d81611eaf565b82525050565b6000611a5f8284611715565b915081905092915050565b6000611a768284611746565b915081905092915050565b6000611a8c8261182e565b9150819050919050565b6000611aa1826118dd565b9150819050919050565b60006040820190508181036000830152611ac581856116dc565b9050611ad460208301846115a3565b9392505050565b60006080820190508181036000830152611af581876116dc565b9050611b0460208301866115a3565b611b116040830185611585565b611b1e6060830184611694565b95945050505050565b60006040820190508181036000830152611b4181856116dc565b90508181036020830152611b5581846116dc565b90509392505050565b60006080820190508181036000830152611b7881876116dc565b90508181036020830152611b8c81866116dc565b90508181036040830152611ba081856116dc565b9050611baf6060830184611a44565b95945050505050565b60006020820190508181036000830152611bd1816117c5565b9050919050565b60006020820190508181036000830152611bf1816117e8565b9050919050565b60006020820190508181036000830152611c118161180b565b9050919050565b60006020820190508181036000830152611c3181611851565b9050919050565b60006020820190508181036000830152611c5181611874565b9050919050565b60006020820190508181036000830152611c7181611897565b9050919050565b60006020820190508181036000830152611c91816118ba565b9050919050565b60006020820190508181036000830152611cb181611900565b9050919050565b60006020820190508181036000830152611cd181611923565b9050919050565b60006020820190508181036000830152611cf181611946565b9050919050565b60006020820190508181036000830152611d128184611969565b905092915050565b6000602082019050611d2f6000830184611a44565b92915050565b6000611d3f611d50565b9050611d4b8282611f2d565b919050565b6000604051905090565b600067ffffffffffffffff821115611d7557611d74612034565b5b611d7e82612077565b9050602081019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b60008190508160005260206000209050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600081905092915050565b6000611e6082611e8f565b9050919050565b6000611e7282611e8f565b9050919050565b60008115159050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b82818337600083830152505050565b60005b83811015611ee6578082015181840152602081019050611ecb565b83811115611ef5576000848401525b50505050565b60006002820490506001821680611f1357607f821691505b60208210811415611f2757611f26611fd6565b5b50919050565b611f3682612077565b810181811067ffffffffffffffff82111715611f5557611f54612034565b5b80604052505050565b6000611f6982611eaf565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415611f9c57611f9b611fa7565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4661696c656420746f2073656e64205452580000000000000000000000000000600082015250565b7f4e6f207061796d656e7420696e636c756465642077697468207374617475732060008201527f7570646174650000000000000000000000000000000000000000000000000000602082015250565b7f5061796d656e74206973206e6f7420726571756972656420666f72207468697360008201527f2073746174757300000000000000000000000000000000000000000000000000602082015250565b7f44656c6976657265640000000000000000000000000000000000000000000000600082015250565b7f4f6e6c79206f776e65722063616e207570646174652073746174757300000000600082015250565b7f536869706d656e7420616c726561647920657869737473000000000000000000600082015250565b7f4f6e6c79206f776e65722063616e20616464205472616e73616374696f6e0000600082015250565b7f496e76616c69642064656c69766572792077616c6c6574206164647265737300600082015250565b50565b7f536869706d656e7420646f6573206e6f74206578697374000000000000000000600082015250565b7f44656c69766572792077616c6c6574206973206e6f7420736574000000000000600082015250565b7f5472616e73616374696f6e20616c726561647920657869737473000000000000600082015250565b6122a381611e67565b81146122ae57600080fd5b50565b6122ba81611e85565b81146122c557600080fd5b5056fea26469706673582212205ab1a4cc23721d71d252df8a91477b06fd2504d0d2f0d19b6fe92f146ff3c45b64736f6c63430008060033";


async function deploy_contract() {
    try {
        const options = {
            feeLimit: 1_500_000_000, // Увеличен лимит на случай сложного контракта
            callValue: 0,
            abi: abi,
            bytecode: bytecode,
			parameters: [
				tronWeb.address.toHex("TXDbyNbEy4j6jS8A4BZaRtcFyAw8ZpCoTU"), // _supplier
				tronWeb.address.toHex("TUVJKogv7sefrUTAJJfos5wXqapEPcsLeD"), // _buyer
				tronWeb.address.toHex("TBRMb2wbh6Syj467xTtExQgqvZeSZ6uxbx"), // _financier
				1_000_000_000, // _invoiceAmount (например, 1 TRX = 1,000,000 sun)
				20000, // _discount (например, 2% скидки в sun)
				Math.floor(Date.now() / 1000) + 30 * 24 * 60 * 60 // _dueDate (через 30 дней
			]
        };

        const transaction = await tronWeb.transactionBuilder.createSmartContract(
            options,
            tronWeb.defaultAddress.base58
        );

        const signedTransaction = await tronWeb.trx.sign(transaction, privateKey);
        const receipt = await tronWeb.trx.sendRawTransaction(signedTransaction);

        console.log('Contract deployment transaction:', receipt);

        if (receipt.receipt && receipt.receipt.result === 'SUCCESS') {
            console.log('Contract deployed successfully!');
            const contractAddress = tronWeb.address.fromHex(transaction.contract_address);
            console.log('Contract address:', contractAddress);
        } else {
            console.error('Contract deployment failed. Check TRX balance or feeLimit.');
        }
    } catch (error) {
        console.error('Error deploying contract:', error);
    }
}

deploy_contract();

console.log('ABI и байт-код успешно скомпилированы.');
